#summary SQL for creating database tables for the plugin
#labels Phase-Design

= Introduction =

Here is the list of SQL expressions for creating tables for plugin. Since WordPress uses table prefix, all queries here use prefix *wp_*, so if you use something else, you need to change this.

== Table structure for table gdsr_data_article ==

{{{
CREATE TABLE `wp_gdsr_data_article` (
  `post_id` int(11) unsigned NOT NULL DEFAULT '0',
  `rules_articles` char(1) DEFAULT '0',
  `rules_comments` char(1) DEFAULT '0',
  `moderate_articles` char(1) DEFAULT '0',
  `moderate_comments` char(1) DEFAULT '0',
  `is_page` char(1) DEFAULT '0',
  `user_voters` int(11) DEFAULT '0',
  `user_votes` decimal(11,1) DEFAULT '0.0',
  `visitor_voters` int(11) DEFAULT '0',
  `visitor_votes` decimal(11,1) DEFAULT '0.0',
  `review` decimal(3,1) DEFAULT '-1.0',
  `review_text` varchar(255) DEFAULT NULL,
  `views` int(11) DEFAULT '0',
  `user_recc_plus` int(11) DEFAULT '0',
  `user_recc_minus` int(11) DEFAULT '0',
  `visitor_recc_plus` int(11) DEFAULT '0',
  `visitor_recc_minus` int(11) DEFAULT '0',
  `expiry_type` char(1) NOT NULL DEFAULT 'N',
  `expiry_value` varchar(32) NOT NULL DEFAULT '',
  PRIMARY KEY (`post_id`)
);
}}}

== Table structure for table gdsr_data_category ==

{{{
CREATE TABLE `wp_gdsr_data_category` (
  `category_id` int(11) unsigned NOT NULL DEFAULT '0',
  `rules_articles` char(1) DEFAULT '0',
  `rules_comments` char(1) DEFAULT '0',
  `moderate_articles` char(1) DEFAULT '0',
  `moderate_comments` char(1) DEFAULT '0',
  `expiry_type` char(1) NOT NULL DEFAULT 'N',
  `expiry_value` varchar(32) NOT NULL DEFAULT '',
  PRIMARY KEY (`category_id`)
);
}}}

== Table structure for table gdsr_data_comment ==

{{{
CREATE TABLE `wp_gdsr_data_comment` (
  `comment_id` int(11) unsigned NOT NULL DEFAULT '0',
  `post_id` int(11) DEFAULT '-1',
  `is_locked` char(1) DEFAULT '0',
  `user_voters` int(11) DEFAULT '0',
  `user_votes` decimal(11,1) DEFAULT '0.0',
  `visitor_voters` int(11) DEFAULT '0',
  `visitor_votes` decimal(11,1) DEFAULT '0.0',
  `review` decimal(3,1) DEFAULT '-1.0',
  `review_text` varchar(255) DEFAULT NULL,
  `user_recc_plus` int(11) DEFAULT '0',
  `user_recc_minus` int(11) DEFAULT '0',
  `visitor_recc_plus` int(11) DEFAULT '0',
  `visitor_recc_minus` int(11) DEFAULT '0',
  PRIMARY KEY (`comment_id`)
);
}}}

== Table structure for table gdsr_ips ==

{{{
CREATE TABLE `wp_gdsr_ips` (
  `id` int(11) unsigned NOT NULL auto_increment,
  `status` varchar(1) default 'B',
  `mode` varchar(1) default 'S',
  `ip` varchar(128) default NULL,
  PRIMARY KEY  (`id`)
);
}}}

== Table structure for table gdsr_moderate ==

{{{
CREATE TABLE `wp_gdsr_moderate` (
  `record_id` int(11) NOT NULL AUTO_INCREMENT,
  `id` int(11) DEFAULT NULL,
  `vote_type` varchar(10) DEFAULT 'article',
  `multi_id` int(11) DEFAULT '0',
  `user_id` int(11) DEFAULT '0',
  `vote` int(11) DEFAULT '0',
  `object` text NOT NULL,
  `voted` datetime DEFAULT NULL,
  `ip` varchar(32) DEFAULT NULL,
  `user_agent` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`record_id`)
);
}}}

== Table structure for table gdsr_multis ==

{{{
CREATE TABLE `wp_gdsr_multis` (
  `multi_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(64) NOT NULL,
  `description` text NOT NULL,
  `stars` int(11) NOT NULL DEFAULT '10',
  `object` text NOT NULL,
  `weight` text NOT NULL,
  PRIMARY KEY (`multi_id`)
);
}}}

== Table structure for table gdsr_multis_data ==

{{{
CREATE TABLE `wp_gdsr_multis_data` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `post_id` int(11) NOT NULL,
  `multi_id` int(11) NOT NULL,
  `review` decimal(3,1) NOT NULL DEFAULT '-1.0',
  `review_text` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `post_id` (`post_id`)
);
}}}

== Table structure for table gdsr_multis_trend ==

{{{
CREATE TABLE `wp_gdsr_multis_trend` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `post_id` int(11) NOT NULL,
  `multi_id` int(11) NOT NULL,
  `vote_date` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
);
}}}

== Table structure for table gdsr_multis_values ==

{{{
CREATE TABLE `wp_gdsr_multis_values` (
  `id` bigint(20) unsigned NOT NULL,
  `source` varchar(3) NOT NULL DEFAULT 'dta',
  `item_id` int(11) NOT NULL,
  `user_voters` int(11) DEFAULT '0',
  `user_votes` decimal(11,1) DEFAULT '0.0',
  `visitor_voters` int(11) DEFAULT '0',
  `visitor_votes` decimal(11,1) DEFAULT '0.0',
  KEY `id` (`id`),
  KEY `item_id` (`item_id`)
);
}}}

== Table structure for table gdsr_templates ==

{{{
CREATE TABLE `wp_gdsr_templates` (
  `template_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `section` varchar(3) NOT NULL,
  `name` varchar(128) NOT NULL,
  `description` text NOT NULL,
  `elements` text NOT NULL,
  `preinstalled` varchar(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`template_id`)
);
}}}

== Table structure for table gdsr_votes_log ==

{{{
CREATE TABLE `wp_gdsr_votes_log` (
  `record_id` int(11) NOT NULL AUTO_INCREMENT,
  `id` int(11) DEFAULT NULL,
  `vote_type` varchar(10) DEFAULT 'article',
  `multi_id` int(11) DEFAULT '0',
  `user_id` int(11) DEFAULT '0',
  `vote` int(11) DEFAULT '0',
  `object` text NOT NULL,
  `voted` datetime DEFAULT NULL,
  `ip` varchar(32) DEFAULT NULL,
  `user_agent` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`record_id`)
);
}}}

== Table structure for table gdsr_votes_trend ==

{{{
CREATE TABLE `wp_gdsr_votes_trend` (
  `id` int(11) DEFAULT NULL,
  `vote_type` varchar(10) DEFAULT 'article',
  `user_voters` int(11) DEFAULT '0',
  `user_votes` int(11) DEFAULT '0',
  `visitor_voters` int(11) DEFAULT '0',
  `visitor_votes` int(11) DEFAULT '0',
  `vote_date` varchar(10) DEFAULT NULL
);
}}}